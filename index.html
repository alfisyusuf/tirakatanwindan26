<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rundown Acara Tirakatan Kemerdekaan</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-color: #f8f9fa; /* Latar belakang sedikit abu-abu */
            --line-color: #dee2e6; /* Warna garis timeline */
            --dot-color: #e53935; /* Warna titik pada timeline (merah) */
            --card-bg: #ffffff;
            --text-color: #212529; /* Warna teks utama (lebih gelap) */
            --subtle-text: #6c757d; /* Warna teks untuk keterangan */
            --shadow-color: rgba(0, 0, 0, 0.06);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 24px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        header h1 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 2.25em;
            color: var(--dot-color);
            margin: 0;
            /* Efek gradasi halus pada teks */
            background: linear-gradient(45deg, #B71C1C, #e53935);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        header p {
            margin-top: 8px;
            color: var(--subtle-text);
            font-size: 1.1em;
        }

        #loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2em;
            color: var(--subtle-text);
        }
        
        /* Kontainer untuk timeline */
        .timeline-container {
            position: relative;
            padding-left: 50px; /* Ruang untuk waktu */
        }

        /* Garis vertikal timeline */
        .timeline-container::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            width: 3px;
            height: calc(100% - 20px);
            background-color: var(--line-color);
            border-radius: 2px;
        }

        .rundown-item {
            background-color: var(--card-bg);
            border-radius: 12px;
            margin-bottom: 20px;
            padding: 20px 24px;
            position: relative;
            border: 1px solid #e9ecef;
            box-shadow: 0 4px 15px var(--shadow-color);
            /* Animasi saat item muncul */
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.5s ease-out forwards;
        }

        /* Menambahkan delay animasi untuk setiap item */
        .rundown-item:nth-child(2) { animation-delay: 0.1s; }
        .rundown-item:nth-child(3) { animation-delay: 0.2s; }
        .rundown-item:nth-child(4) { animation-delay: 0.3s; }
        /* dst. */
        
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Titik pada timeline */
        .rundown-item::before {
            content: '';
            position: absolute;
            top: 22px;
            left: -46px; /* (50px padding - 6px radius) - 3px line width = 41 + 5 */
            width: 15px;
            height: 15px;
            background-color: var(--dot-color);
            border: 3px solid var(--bg-color);
            border-radius: 50%;
            z-index: 1;
        }
        
        .item-content {
            display: flex;
            flex-direction: column;
        }
        
        .item-content .waktu {
            position: absolute;
            left: -80px; /* Posisi waktu di sebelah kiri garis */
            top: 16px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1em;
            color: var(--dot-color);
            width: 60px; /* Lebar tetap untuk waktu */
            text-align: center;
        }
        
        .item-content .acara {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.25em;
            margin: 0 0 8px 0;
            color: var(--text-color);
        }

        .item-content .keterangan {
            margin: 0;
            font-size: 1em;
            color: var(--subtle-text);
            line-height: 1.6;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: #aaa;
            font-size: 0.9em;
        }

        /* Penyesuaian untuk layar yang lebih kecil */
        @media (max-width: 600px) {
            body { padding: 16px; }
            header h1 { font-size: 1.8em; }
            header p { font-size: 1em; }

            .timeline-container { padding-left: 20px; }
            
            .rundown-item::before { left: -14px; }

            .item-content .waktu {
                position: static; /* Waktu kembali ke dalam card */
                left: auto;
                top: auto;
                width: auto;
                text-align: left;
                margin-bottom: 12px;
                padding: 4px 10px;
                background-color: #f1f3f5;
                border-radius: 6px;
                font-size: 0.9em;
                display: inline-block; /* Agar background tidak full-width */
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Rundown Acara</h1>
            <p>Tirakatan Malam 17 Agustus</p>
        </header>

        <div id="loading">Memuat data rundown... ‚è≥</div>
        <div class="timeline-container" id="rundown-container">
            </div>
        
        <footer>
            <p>Data diperbarui secara langsung dari Google Spreadsheet.</p>
        </footer>
    </div>

    <script>
        // ======================================================================
        // GANTI URL DI BAWAH INI dengan URL Web App dari Google Apps Script Anda
        // ======================================================================
        const SPREADSHEET_URL = 'https://script.google.com/macros/s/AKfycbyJo3iyPhtezp_gewkvaeRHAezvnAR_2Ip500uS_AmHu0Zgv8LyJ8uR3j8UXC7pFVjcgQ/exec'; 
        // ======================================================================

        const container = document.getElementById('rundown-container');
        const loadingIndicator = document.getElementById('loading');

        async function fetchRundown() {
            try {
                const response = await fetch(SPREADSHEET_URL);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const data = await response.json();

                container.innerHTML = ''; 

                if (data.length === 0) {
                     container.innerHTML = '<p>Tidak ada data acara.</p>';
                } else {
                    let delay = 0;
                    data.forEach(item => {
                        const rundownItem = document.createElement('div');
                        rundownItem.className = 'rundown-item';
                        // Menambahkan delay animasi secara dinamis
                        rundownItem.style.animationDelay = `${delay}s`;

                        rundownItem.innerHTML = `
                            <div class="item-content">
                                <span class="waktu">${item.waktu || '---'}</span>
                                <h2 class="acara">${item.acara || 'Tanpa Judul'}</h2>
                                <p class="keterangan">${item.keterangan || ''}</p>
                            </div>
                        `;
                        container.appendChild(rundownItem);
                        delay += 0.1; // Tambah delay untuk item berikutnya
                    });
                }

            } catch (error) {
                console.error('Gagal mengambil data:', error);
                container.innerHTML = `<p style="color: red; text-align: center;">Maaf, terjadi kesalahan saat memuat data rundown.</p>`;
            } finally {
                loadingIndicator.style.display = 'none';
            }
        }
        document.addEventListener('DOMContentLoaded', fetchRundown);
    </script>

</body>
</html>
